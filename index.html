<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Rescue - Text Adventure</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Space Rescue">
</head>
<body>
    <!-- Cinematic Intro Screen -->
    <div id="intro-screen">
        <div class="intro-content">
            <h1 class="intro-title">SPACE RESCUE</h1>
            
            <div class="intro-text">
                <p><strong>MISSION BRIEFING</strong></p>
                <p>You are Commander Sarah Chen</p>
                <p>Senior communications specialist at the Interstellar Emergency Response Center</p>
                <p>Stationed at the Luna Command Hub</p>
                <p>You coordinate emergency responses across the solar system</p>
                <p>Your expertise: crisis communication, psychological support, tactical decision-making</p>
                <p>Successfully guided 47 vessels through critical situations</p>
                <p>Survival rate: 94%</p>
                <p><strong>EMERGENCY ALERT</strong></p>
                <p>14:32 UTC - Research Vessel Meridian reports anomalous readings near Europa</p>
                <p>Commanded by Captain Elena Rodriguez</p>
                <p>Investigating mysterious energy signatures when contact was lost</p>
                <p>Initial distress signal indicates:</p>
                <p>Hull breach in multiple compartments</p>
                <p>Life support systems compromised</p>
                <p>Critical damage to propulsion systems</p>
                <p>Unknown number of casualties</p>
                <p><strong>YOUR MISSION</strong></p>
                <p>Establish communication with any surviving crew members</p>
                <p>Assess the situation, provide guidance, coordinate rescue efforts</p>
                <p>Every decision could mean the difference between life and death</p>
                <p>In space, there are no second chances</p>
                <p>Your expertise is their only hope</p>
            </div>
            
            <div class="game-features">
                <h3>GAME FEATURES</h3>
                <ul>
                    <li>Real-time decision making with life-or-death consequences</li>
                    <li>Multiple story branches leading to different outcomes</li>
                    <li>Character development and relationship building</li>
                    <li>Realistic space emergency scenarios</li>
                    <li>Professional communication protocols</li>
                    <li>Psychological pressure and moral dilemmas</li>
                    <li>Rewind system to explore alternative choices</li>
                    <li>Fast mode for experienced players</li>
                </ul>
            </div>
            
            <div class="decoding-animation">
                <div class="decoding-line">INITIALIZING EMERGENCY RESPONSE PROTOCOLS...</div>
                <div class="decoding-line">SCANNING SOLAR SYSTEM FOR DISTRESS SIGNALS...</div>
                <div class="decoding-line">ANALYZING TRANSMISSION FREQUENCIES...</div>
                <div class="decoding-line">DETECTING ANOMALOUS ACTIVITY NEAR EUROPA...</div>
                <div class="decoding-line">IDENTIFYING SIGNATURE: RESEARCH VESSEL MERIDIAN...</div>
            </div>
            
            <button class="start-game-btn" onclick="startGame()">ESTABLISH CONNECTION</button>
        </div>
    </div>

    <!-- Main Game Interface -->
    <div id="game-container" class="hidden">
        <!-- Header with character info and controls -->
        <header id="game-header">
            <div class="status-bar">
                <div class="character-info">
                    <div class="character-avatar">-</div>
                    <div class="character-details">
                        <span id="character-name">UNKNOWN CONTACT</span>
                        <span id="connection-status" class="status-offline">NO SIGNAL</span>
                    </div>
                </div>
                <div class="game-controls">
                    <button id="rewind-btn" class="control-btn" title="Rewind to previous choice">
                        <span class="btn-icon">R</span>
                        <span class="btn-text">Rewind</span>
                    </button>
                    <button id="fast-mode-btn" class="control-btn" title="Skip delays">
                        <span class="btn-icon">F</span>
                        <span class="btn-text">Fast</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main chat/message area -->
        <main id="chat-area">
            <div id="messages-container">
                <!-- Messages will be dynamically added here -->
            </div>
        </main>

        <!-- Choice buttons area -->
        <section id="choices-area">
            <div id="choices-container">
                <!-- Choice buttons will be dynamically added here -->
            </div>
            <div id="typing-indicator" class="hidden">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                </div>
                <span class="typing-text">UNKNOWN CONTACT IS TRANSMITTING...</span>
            </div>
        </section>

        <!-- Game over screen -->
        <div id="game-over-screen" class="hidden">
            <div class="game-over-content">
                <h2 id="game-over-title">Mission Complete</h2>
                <p id="game-over-message">You've reached the end of this story branch.</p>
                <div class="game-over-stats">
                    <div class="stat">
                        <span class="stat-label">Survival Time:</span>
                        <span id="survival-time">0 hours</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Choices Made:</span>
                        <span id="choices-made">0</span>
                    </div>
                </div>
                <div class="game-over-actions">
                    <button id="restart-btn" class="action-btn">Start Over</button>
                    <button id="try-different-btn" class="action-btn">Try Different Choices</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="gameEngine.js"></script>
    <script src="story.js"></script>
    <script src="characters.js"></script>
    <script src="game.js"></script>

    <script>
        function startGame() {
            // Hide intro screen
            document.getElementById('intro-screen').style.display = 'none';
            
            // Show game interface
            document.getElementById('game-container').classList.remove('hidden');
            
            // Initialize the game
            if (gameEngine) {
                gameEngine.startGame();
            }
        }
    </script>
</body>
</html>
